// Configuration for GitHub Pages deployment
// This file is automatically generated during the build process
// Default configuration for static deployment

window.APP_CONFIG = {
    // Supabase configuration (will be replaced during build if credentials available)
    SUPABASE_URL: 'https://your-project.supabase.co',
    SUPABASE_ANON_KEY: 'your-anon-key-here',
    
    // Admin configuration (set via environment variable - keep secure!)
    ADMIN_PASSWORD: 'default_admin_pass',
    
    // GitHub configuration (for auto-deployment when reviews are approved)
    PERSONAL_ACCESS_TOKEN: null, // Personal access token for triggering deployments
    REPO_NAME: null, // Repository in format 'username/repo-name'
    
    // Feature flags
    ENABLE_SUPABASE: false, // Automatically set based on credential availability
    FALLBACK_TO_GEOJSON: true, // Always maintain static data fallback
    ENABLE_AUTO_DEPLOY: false, // Set to true when GitHub token is configured
    
    // App settings
    MAP_CENTER: [49.251, -123.060],
    MAP_ZOOM: 11,
    GEOJSON_PATH: 'data/fountains_processed.geojson',
    
    // App metadata
    VERSION: '1.0.0',
    DEPLOYMENT_TYPE: 'github-pages'
};

// Auto-detect if we have valid Supabase configuration
if (window.APP_CONFIG.SUPABASE_URL && 
    window.APP_CONFIG.SUPABASE_URL !== 'https://your-project.supabase.co' && 
    window.APP_CONFIG.SUPABASE_ANON_KEY && 
    window.APP_CONFIG.SUPABASE_ANON_KEY !== 'your-anon-key-here' &&
    window.APP_CONFIG.SUPABASE_URL.includes('supabase.co')) {
    window.APP_CONFIG.ENABLE_SUPABASE = true;
    console.log('‚úÖ Supabase integration enabled');
} else {
    console.log('üìÅ Using static data mode (Supabase not configured)');
}
